(this["webpackJsonpstocks-tracker"]=this["webpackJsonpstocks-tracker"]||[]).push([[0],{164:function(e,t,a){},165:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(54),o=a.n(c),i=(a(65),a(31)),l=a(1),s=(a(66),a(67),a(14)),u=a.n(s),p=a(59),d=(a(68),{ticker:"ticker",price:"price",lastUpdate:"lastUpdate"}),b={ticker:"Ticker",price:"Price",lastUpdate:"Last Update"},m=function(e){return n.a.createElement("table",e)};m.THead=function(e){return n.a.createElement("thead",e)},m.TBody=function(e){return n.a.createElement("tbody",e)},m.TH=function(e){return n.a.createElement("th",e)},m.TRow=function(e){var t,a=e.color,r=Object(p.a)(e,["color"]);return n.a.createElement("tr",Object.assign({style:{backgroundColor:(t=a,"red"===t?"#FBE9E7":"green"===t?"#E8F5E9":"white")}},r))},m.TD=function(e){return n.a.createElement("td",e)};var f=m,O=a(32),j=a(3),E=a(6),v=a(167),h=function(e){var t=Object(r.useState)([]),a=Object(E.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){try{var t=new WebSocket(e);t.onmessage=function(e){c(JSON.parse(e.data))},t.onerror=function(e){console.log(e)}}catch(a){c([])}}),[e]),n},g=function(){var e=h("ws://stocks.mnet.website"),t=Object(r.useState)({}),a=Object(E.a)(t,2),n=a[0],c=a[1],o=Object(v.a)("storredMapping",{}),i=Object(E.a)(o,2),l=i[0],s=i[1],u=Object(r.useState)([]),p=Object(E.a)(u,2),b=p[0],m=p[1];return Object(r.useEffect)((function(){if(b!==e&&e){var t=e.reduce((function(e,t){var a,r,n,c=Object(E.a)(t,2),o=c[0],i=c[1],l={};e[o]?e[o].price>i?(a={},Object(j.a)(a,d.ticker,o),Object(j.a)(a,d.price,i),Object(j.a)(a,d.lastUpdate,Date.now()),Object(j.a)(a,"color","red"),l=a):(r={},Object(j.a)(r,d.ticker,o),Object(j.a)(r,d.price,i),Object(j.a)(r,d.lastUpdate,Date.now()),Object(j.a)(r,"color","green"),l=r):(n={},Object(j.a)(n,d.ticker,o),Object(j.a)(n,d.price,i),Object(j.a)(n,d.lastUpdate,Date.now()),Object(j.a)(n,"color","white"),l=n);return e[o]=l,e}),Object(O.a)({},n)),a=Object(O.a)({},l);e.forEach((function(e){var t=Object(E.a)(e,2),r=t[0],n=t[1],c=a[r];c&&c.price&&c.price.length>10?(c.price.shift(),c.price.push({time:Date.now(),price:n})):c&&c.price&&c.price.length<10?c.price.push({time:Date.now(),price:n}):a[r]={price:[{time:Date.now(),price:[n]}]}})),s(a),c(t),m(e)}}),[e,n,b,l,s,c,m]),{pricesByKey:n,savedMapping:l}},k=r.createContext({pricesByKey:{},savedMapping:[]}),w=function(e){var t=Object.assign({},e),a=g(),n=a.pricesByKey,c=a.savedMapping;return r.createElement(k.Provider,Object.assign({value:{pricesByKey:n,savedMapping:c}},t))},y=Object.keys(d),B=function(){var e=Object(l.f)(),t=Object(r.useContext)(k).pricesByKey;return n.a.createElement("div",{className:"home-root"},n.a.createElement("div",{className:"home-responsive-container"},n.a.createElement(f,null,n.a.createElement(f.THead,null,n.a.createElement(f.TRow,null,y.map((function(e){return n.a.createElement(f.TH,null,b[e])})))),n.a.createElement(f.TBody,null,Object.keys(t).map((function(a){return n.a.createElement(f.TRow,{key:a,color:t[a].color,onClick:function(){return e.push("/".concat(a))}},y.map((function(e){return e===d.lastUpdate?n.a.createElement(f.TD,null,u()(t[a][e]).startOf("second").fromNow()):n.a.createElement(f.TD,null,t[a][e])})))}))))))},T=a(57),C=(a(164),function(){var e=Object(l.g)().ticker,t=Object(r.useContext)(k).savedMapping,a=Object(r.useState)([]),c=Object(E.a)(a,2),o=c[0],i=c[1],s=Object(r.useState)([]),p=Object(E.a)(s,2),d=p[0],b=p[1];Object(r.useEffect)((function(){var a=t[e].price.map((function(e){return u()(e.time).format("h:mm:ss a")})),r=t[e].price.map((function(e){return e.price}));i(a),b(r)}),[t,i,b,e]);var m={labels:o,datasets:[{label:"".concat(e," dataset"),fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:d}]};return n.a.createElement("div",{className:"detail-root"},n.a.createElement("div",{className:"detail-responsive-container"},n.a.createElement(T.a,{data:m})))}),D=function(){return n.a.createElement(i.a,null,n.a.createElement(l.c,null,n.a.createElement(l.a,{exact:!0,path:"/"},n.a.createElement(B,null)),n.a.createElement(l.a,{path:"/:ticker"},n.a.createElement(C,null))))},S=function(){return n.a.createElement(w,null,n.a.createElement("main",null,n.a.createElement(D,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},60:function(e,t,a){e.exports=a(165)},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){}},[[60,1,2]]]);
//# sourceMappingURL=main.87a125b7.chunk.js.map